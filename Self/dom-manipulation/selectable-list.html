<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      .selected {
        background: #0f0;
      }

      span {
        cursor: pointer;
      }
    </style>
  </head>

  <body>
    Click on a list item to select it.
    <br />

    <ul id="ul">
      <li><span>Christopher Robin</span></li>
      <li><span>Winnie-the-Pooh</span></li>
      <li><span>Tigger</span></li>
      <li><span>Kanga</span></li>
      <li><span>Rabbit. Just rabbit.</span></li>
    </ul>

    <script>
      // ...your code...
      let ulElement = document.getElementById("ul");

      ulElement.addEventListener("mousedown", () => false);
      ulElement.addEventListener("click", selectElement);

      function selectElement(e) {
        if (e.target.tagName !== "SPAN") return;

        let li = e.target.closest("li");

        if (!(e.ctrlKey || e.metaKey)) {
          document
            .querySelectorAll(".selected")
            .forEach((el) => el.classList.remove("selected"));
        }

        li.classList.toggle("selected");
      }

      function singleSelect(li) {
        let selectedElements = document.querySelectorAll(".selected");

        for (let ele of selectedElements) {
          ele.classList.remove("selected");
        }

        li.classList.add("selected");
      }
    </script>
  </body>
</html>
